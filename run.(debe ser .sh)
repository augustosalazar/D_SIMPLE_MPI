#!/bin/bash
start=`date +%s.%N`
echo "Starting"
echo $start
for (( core=2; core<=$1; core++))
do
    for (( limit=100000; limit<=500000; limit=limit+100000 ))
    do
        echo "Vamos a verificar hasta ${limit} con n = ${core}"
        docker exec -it mpicont mpiexec --allow-run-as-root -n $core python /app/primeChecker.py $limit
    done
done
echo "Done"
end=`date +%s.%N`
runtime=$( echo "$end - $start" | bc -l )
echo "Total time: $runtime seconds"
